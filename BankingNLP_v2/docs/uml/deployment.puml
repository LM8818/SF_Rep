@startuml
!define BANKING_BLUE #1E3A8A
!define BANKING_LIGHT_BLUE #3B82F6
!define BANKING_GREEN #059669
!define BANKING_LIGHT_GREEN #10B981
!define BANKING_ORANGE #EA580C
!define BANKING_PURPLE #7C3AED

title <size:16><color:#1E3A8A><b>üè¶ Banking NLP v2.0: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è</b></color></size>

skinparam backgroundColor #F8FAFC
skinparam handwritten false
skinparam roundcorner 15
skinparam shadowing true
skinparam defaultFontName "Segoe UI"
skinparam defaultFontSize 11
skinparam defaultFontColor #1E3A8A

skinparam NodeBackgroundColor #EFF6FF
skinparam NodeBorderColor #3B82F6
skinparam NodeFontColor #1E3A8A
skinparam NodeFontSize 11
skinparam NodeFontStyle bold

skinparam ComponentBackgroundColor #F0FDF4
skinparam ComponentBorderColor #10B981
skinparam ComponentFontColor #1E3A8A

skinparam CloudBackgroundColor #FFFBEB
skinparam CloudBorderColor #F59E0B

skinparam DatabaseBackgroundColor #F0FDF4
skinparam DatabaseBorderColor #10B981

skinparam FrameBackgroundColor #F8F4FF
skinparam FrameBorderColor #7C3AED

skinparam ArrowColor #3B82F6
skinparam ArrowThickness 2

node "üîß **GitHub Actions CI/CD**" as CI #EFF6FF {
  component "üß™ **pytest**\n–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ" as TEST
  component "üê≥ **Build Docker**\n–°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤" as BUILD
  component "üîç **Security Scan**\n–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏" as SCAN
}

cloud "üì¶ **Docker Registry**\n–•—Ä–∞–Ω–∏–ª–∏—â–µ –æ–±—Ä–∞–∑–æ–≤" as REG #FFFBEB

frame "‚ò∏Ô∏è **Production Kubernetes Cluster**" as K8S #F8F4FF {
  node "üåê **Web Tier**" #EFF6FF {
    component "üöÄ **FastAPI + Gunicorn**\nAPI Gateway" as WEB
    component "üíª **Frontend**\nReact/Vue SPA" as FRONTEND
  }
  
  node "‚öôÔ∏è **Processing Tier**" #F0FDF4 {
    component "üîÑ **Celery Workers**\nBackground Tasks" as WORKER
    component "üß† **ML Models**\nNLP Processing" as ML
  }
  
  node "üíæ **Data Tier**" #F0FDF4 {
    database "üóÑÔ∏è **PostgreSQL**\n–ü–µ—Ä–≤–∏—á–Ω–∞—è –ë–î" as PG
    queue "üì® **Kafka**\n–û—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π" as KAFKA
    database "üìä **Redis**\n–ö—ç—à –∏ —Å–µ—Å—Å–∏–∏" as REDIS
  }
  
  node "üìä **Monitoring Stack**" #FFFBEB {
    cloud "üìà **Grafana + Prometheus**\n–ú–µ—Ç—Ä–∏–∫–∏ –∏ –∞–ª–µ—Ä—Ç—ã" as MONITOR
    cloud "üìã **ELK Stack**\n–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ" as LOGS
  }
}

CI --> REG : üì§ **push images**
note on link #FFFBEB : –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞\n–ø—Ä–∏ –∫–∞–∂–¥–æ–º commit

REG --> K8S : üì• **pull & deploy**
note on link #F0FDF4 : Blue-Green\nDeployment

WEB ..> PG : üîó database queries
WORKER ..> KAFKA : üì® consume tasks
WEB ..> KAFKA : üì§ publish events
ML ..> REDIS : ‚ö° model cache
K8S ..> MONITOR : üìä metrics export
K8S ..> LOGS : üìù log aggregation

note bottom of K8S #F8FAFC : <b>–ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:</b> CPU/Memory\n<b>–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å:</b> Multi-AZ\n<b>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:</b> Network Policies + RBAC
note top of CI #F8FAFC : <b>CI/CD Pipeline:</b>\n–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ –¥–æ—Å—Ç–∞–≤–∫–∞
@enduml
