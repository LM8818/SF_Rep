# Проект 2. Причины оттока клиентов в международном банке 

## Оглавление  
[1. Описание проекта](#Описание-проекта)  
[2. ЗАДАНИЯ](#Какой-кейс-решаем)  
[3. Краткая информация о данных](#Краткая-информация-о-данных)  
[4. Этапы работы над проектом](#Этапы-работы-над-проектом)  
[5. Результат](#Результат)    
[6. Выводы](#Выводы) 

[7. data.csv](https://drive.google.com/file/d/1RDadFvz8r4-9MXZCsf7mgv8VnOVeIxOS/view?usp=sharing)



### Описание проекта    
Банк обращается к вам за помощью: он хочет разработать кампанию лояльности по удержанию клиентов, но для этого ему необходимо, чтобы вы выяснили основные причины оттока клиентов. Иными словами, нужно установить, чем ушедшие клиенты отличаются от лояльных и как между собой связаны различные признаки, определяющие клиентов.
После разведывательного анализа, с целью выявления наиболее важных признаков оттока, банк сможет построить модель машинного обучения, которая будет прогнозировать уход клиента. 


### ЗАДАНИЯ    
 
9.1. Каково соотношение ушедших и лояльных клиентов? Покажите это на графике и дайте комментарий по соотношению.

9.2. Постройте график, показывающий распределение баланса пользователей, у которых на счету больше 2 500 долларов. Опишите распределение и сделайте выводы.

9.3. Посмотрите на распределение баланса клиента в разрезе признака оттока. Как различаются суммы на накопительном счёте ушедших и лояльных клиентов? Подумайте и напишите, с чем это может быть связано, что может не устраивать ушедших клиентов в банке.

9.4. Посмотрите на распределение возраста в разрезе признака оттока. В какой группе больше потенциальных выбросов? На какую возрастную категорию клиентов стоит обратить внимание банку?

9.5. Постройте график, который показывает взаимосвязь кредитного рейтинга клиента и его предполагаемой зарплаты. Добавьте расцветку по признаку оттока клиентов. Какова взаимосвязь между признаками? Если не видите явной взаимосвязи, укажите это.

9.6. Кто чаще уходит, мужчины или женщины? Постройте график, который иллюстрирует это.

Подсказка
9.7. Как отток клиентов зависит от числа приобретённых у банка услуг? Для ответа на этот вопрос постройте многоуровневую столбчатую диаграмму.

9.8. Как влияет наличие статуса активного клиента на отток клиентов? Постройте диаграмму, иллюстрирующую это. Что бы вы предложили банку, чтобы уменьшить отток клиентов среди неактивных?

9.9. В какой стране доля ушедших клиентов больше? Постройте тепловую картограмму, которая покажет это соотношение на карте мира. Предположите, с чем это может быть связано.

9.10. Переведите числовой признак CreditScore в категориальный. Для этого воспользуйтесь функцией get_credit_score_cat(), которая приведена ниже. Примените её к столбцу CreditScore и создайте новый признак CreditScoreCat — категории кредитного рейтинга.

Постройте сводную таблицу, строками которой являются категории кредитного рейтинга (CreditScoreCat), а столбцами — количество лет, в течение которых клиент пользуется услугами банка (Tenure). В ячейках сводной таблицы должно находиться среднее по признаку оттока (Exited) — доля ушедших пользователей.

На основе полученной сводной таблицы постройте тепловую карту с аннотацией. Найдите на тепловой карте категории клиентов, которые уходят чаще всего.

**Условия соревнования:**  

→ В файле должно содержаться 10 графиков — 10 ответов к заданиям.

→ Каждый график и преобразования к нему выполняются в отдельной ячейке.

→ Под графиком вы должны предоставить свой ответ на вопрос по нему и, если это требуется, выводы, которые вы можете сделать, исходя из графика.

**Метрика качества**     
Результаты оцениваются ментором

**Что практикуем**     
Практикуем навыки написания кода Python по выводу графиков
Ссылка на NB: Reasons_for_customer_churn_in_bank/Practice.ipynb


### Краткая информация о данных

Столбцы таблицы:

RowNumber — номер строки таблицы (это лишняя информация, поэтому можете сразу от неё избавиться)
CustomerId — идентификатор клиента
Surname — фамилия клиента
CreditScore — кредитный рейтинг клиента (чем он выше, тем больше клиент брал кредитов и возвращал их)
Geography — страна клиента (банк международный)
Gender — пол клиента
Age — возраст клиента
Tenure — сколько лет клиент пользуется услугами банка
Balance — баланс на счетах клиента в банке
NumOfProducts — количество услуг банка, которые приобрёл клиент
HasCrCard — есть ли у клиента кредитная карта (1 — да, 0 — нет)
IsActiveMember — есть ли у клиента статус активного клиента банка (1 — да, 0 — нет)
EstimatedSalary — предполагаемая заработная плата клиента
Exited — статус лояльности (1 — ушедший клиент, 0 — лояльный клиент)
 
### Этапы работы над проектом  
   Итоговые выводы
 
### Результаты:  
Выполнены все задания. Исправлены все ошибки и замечания ментора.
 
### Выводы:  

1. Соотношение всех ушедших и лояльных клиентов => один к четырем (20.4% - ушедших, 79.6% - лояльных )  

  2. Распределение балансу у клиентов банка похоже на нормальное.

  3. Балансы ушедших и лояльных пользователей примерно одинаковы и не влияют на отток клиентов.
     Мы видим большое смещение лояльных клиентов к нулю, это вызвано большим количеством клиентов с нулевым балансом. Стоит отдельно рассмотреть клиентов с нулевым балансом. 

  4. В группе лояльных больше потенциальных выбросов
     Банку стоит обратить внимание на группу "Ушедших", на возрастную категорию с 38 до 52 года , это границы первого и третьего квантиля , в возрасте 45 лет самый большой риск ухода клиента , это медианное значение по графику категории с оттоком.   

  5. Отсутствие взаимосвязи у ушедших и лояльных клиентов по предполагаемой зарплате и кредитному рейтингу.
     Только у ушедших клиентов есть рейтинг ниже 400.

  6. Женщины уходят чаще , но не на много, всего на 7.3%

  7. Основная масса ушедших клиентов , это клиенты , которые приобрели только 1 услугу.
     Основная масса лояльных клиентов , это клиенты , у которых 1 или 2 услуги. 

  8. Статус активного клиента не сильно влияет на уход клиента , потому что у 2/3 ушедших клиентов был статус "Активный"

  9. Наибольший отток клиентов идет во Франции и Испании , это почти в два раза больше чем в Германии. Это может быть связано с уровнем заработной платы.

  10. В кетегори "Very_Poor" клиенты уходят чаще всего ,  со сроком пользования услугами банка до года. 

Для удержания клиентов банку необходимо  новым клиентам , пользующиеся услугами банка до года и имеющим только одну услугу  , активно предлагать дополнительные услуги.

:arrow_up:[к оглавлению](https://github.com/LM8818/SF_REP/tree/master/Reasons_for_customer_churn_in_bank/readme.md/#Оглавление)


Если информация по этому проекту покажется вам интересной или полезной, то я буду очень вам благодарен, если отметите репозиторий и профиль ⭐️⭐️⭐️-дами
